const translations = {
  fa: {
    // ====== عمومی ======

    menu_home: "خانه",
    menu_about: "درباره ما",
    menu_products: "محصولات",
    menu_catalog:"کاتالوگ",
    menu_contact: "تماس",
    hero_title: "هوشمندسازی و کنترل سیستم‌های تهویه و تبرید",
    hero_text: "راهکارهای مدرن بر پایه اینترنت اشیا (IoT)",
    hero_btn: "مشاهده محصولات",
    contact: `
      تماس: 
      <a href="mailto:ehsansheikhy@gmail.com"><i class="fa-solid fa-envelope"></i> ehsansheikhy@gmail.com</a> | 
      <a href="tel:+989123085827" class="phone"><i class="fa-solid fa-mobile-screen"></i> +98-912-308-5827</a> | 
      <a href="tel:+982122076977" class="phone"><i class="fa-solid fa-phone"></i> +98-21-22076977</a> | 
      <a href="https://www.linkedin.com/in/ehsan-sheikhy" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIn</a> | 
      <a href="https://www.instagram.com/yourusername" target="_blank"><i class="fa-brands fa-instagram"></i> Instagram</a>
    `,

    footer_text: "© ۱۴۰۴ شرکت نیک ساران. تمامی حقوق محفوظ است.",
    

    // ====== درباره ما ======
    about_title: "درباره ما",
    about_text: "شرکت ما با تمرکز بر هوشمندسازی، اتوماسیون صنعتی و کنترل سیستم‌های تهویه مطبوع (HVAC) فعالیت خود را آغاز کرده و طی سال‌های اخیر موفق به اجرای پروژه‌های متنوع در حوزه‌های مختلف شده است. مأموریت ما ارائه‌ی راهکارهای نوین جهت کاهش مصرف انرژی، افزایش بهره‌وری تجهیزات، و ارتقای کیفیت زندگی و کار در محیط‌های صنعتی و ساختمانی است.",
    about_subtitle1: "حوزه‌های تخصصی ما",
    about_list1_item1: "طراحی و اجرای سیستم‌های مدیریت ساختمان (BMS)",
    about_list1_item2: "کنترل و مانیتورینگ تجهیزات تهویه مطبوع شامل چیلرها، هواسازها و فن‌ها",
    about_list1_item3: "توسعه و پشتیبانی از سری بردهای هوشمند (X7 Series) با پشتیبانی از Modbus، MQTT و IoT",
    about_list1_item4: "طراحی داشبوردهای وب و اپلیکیشن‌های مانیتورینگ و کنترل تجهیزات",
    about_list1_item5: "مشاوره، طراحی و اجرای پروژه‌های اتوماسیون صنعتی",
    about_subtitle2: "مزایای ما",
    about_list2_item1: "استفاده از جدیدترین تکنولوژی‌های روز دنیا در زمینه اتوماسیون و اینترنت اشیا",
    about_list2_item2: "تیم متخصص متعهد و با تجربه",
    about_list2_item3: "پشتیبانی سریع و قابل اعتماد",
    about_list2_item4: "تجربه موفق همکاری در پروژه‌های صنعتی و ساختمانی بزرگ",
    about_subtitle3: "چشم‌انداز ما",
    about_text2: "چشم‌انداز شرکت تبدیل‌شدن به یکی از پیشروترین مجموعه‌ها در حوزه هوشمندسازی و مدیریت انرژی در خاورمیانه است. ما باور داریم آینده صنعت و ساختمان در گروی استفاده از راهکارهای هوشمند و پایدار است و در این مسیر همواره در کنار مشتریان خود خواهیم بود.",
    
    // ====== محصولات ======
    products_title: "محصولات ما",
    footer_text: "© ۱۴۰۴ شرکت نیک ساران. تمامی حقوق محفوظ است.",

    // ====== صفحه محصول ======
    desc_title: "توضیحات",
    desc_title1: "توضیحات",
    features_title: "ویژگی‌ها",
    apps_title: "کاربردها",
    back: "⬅ بازگشت به محصولات",

    // متن‌ها برای محصول X7 Server
    products_title: "محصولات ما",
    p1_title: "X7 Server",
    p1_text: "گیت‌وی هوشمند اینترنت اشیاء با پشتیبانی از Modbus و MQTT",
    p2_title: "برد X7-A",
    p2_text: "کنترل پیشرفته چیلر و AHU با پشتیبانی از Modbus",
    details: "مشاهده جزئیات",
    p1_desc: "برد X7 Server یک گیت‌وی هوشمند برای اینترنت اشیاء (IoT Gateway) است که امکان اتصال تجهیزات صنعتی و ساختمانی به شبکه اینترنت و پروتکل‌های مختلف را بدون نیاز به IP استاتیک فراهم می‌سازد.",
    p2_desc:"برد X7-A Smart IoT یک کنترلر هوشمند و انعطاف‌پذیر است که برای اتوماسیون صنعتی، سیستم‌های BMS و کنترل تجهیزات HVAC طراحی شده است. این برد امکان جمع‌آوری داده از سنسورها، کنترل عملگرها و ارسال اطلاعات از طریق شبکه‌های Modbus RTU و MQTT را فراهم می‌کند. طراحی فشرده و صنعتی این محصول، آن را به گزینه‌ای ایده‌آل برای استفاده در پروژه‌های مانیتورینگ و کنترل مرکزی تبدیل کرده است.",
    p1_feature1: "دو پورت RS485 برای ارتباط Modbus RTU",
    p1_feature2: "درگاه اترنت (Ethernet) برای اتصال مستقیم به شبکه",
    p1_feature3: "درگاه USB (برای توسعه‌های آتی)",
    p1_feature4: "پشتیبانی از پروتکل MQTT برای ارسال داده به سرورهای ابری",
    p1_feature5: "قابلیت Access Point داخلی با آدرس 192.168.4.1",
    p1_feature6: "تغذیه: 9–24V DC، جریان 1A",
    p1_feature7: "نصب روی ریل تابلو برق",
    p1_app1: "گیت‌وی ارتباطی برای تجهیزات صنعتی و ساختمانی",
    p1_app2: "مانیتورینگ و کنترل چیلرها، هواسازها، فن‌ها و پمپ‌ها",
    p1_app3: "انتقال داده به سرورهای ابری بدون نیاز به IP استاتیک",
    p1_app4: "اتوماسیون صنعتی و BMS",
    // متن‌ها برای محصول X7a Server
    features_title: "ویژگی‌ها",
    p2_feature1: "مانیتورینگ دما، فشار، رطوبت و سایر سنسورها",
    p2_feature2: "پشتیبانی از 8 سنسور دمای دیجیتال DS18B20",
    p2_feature3: "کنترل تجهیزات HVAC شامل چیلر، هواساز، فن‌کویل و پمپ‌ها",
    p2_feature4: "قابلیت تعریف Setpoint و برنامه‌ریزی زمان‌بندی (Scheduler)",
    p2_feature5: "انتقال داده به سرورهای ابری یا محلی از طریق MQTT Broker",
    p2_feature6: "پشتیبانی از پروتکل Modbus RTU برای اتصال به تجهیزات صنعتی",
    p2_feature7: "امکان استفاده به عنوان Slave یا Master در شبکه Modbus",
    p2_feature8: "رابط کاربری تحت وب ساده و کاربردی برای تنظیمات",

    apps_title: "کاربردها",
    p2_app1: "BMS و مانیتورینگ ساختمان‌ها (چیلر، هواساز، فن پارکینگ و پمپ‌ها)",
    p2_app2: "اتوماسیون صنعتی و مانیتورینگ خطوط تولید",
    p2_app3: "کنترل و پایش گلخانه‌ها و مرغداری‌ها",
    p2_app4: "سیستم‌های انرژی و نیروگاهی",
    p2_app5: "اینترنت اشیاء (IoT) و مانیتورینگ از راه دور",

    // کاتالوگ
    catalog_title: "📘 کاتالوگ شرکت",
    catalog_text: "برای مشاهده یا دانلود کاتالوگ شرکت از گزینه‌های زیر استفاده کنید:",
    catalog_btn: "دانلود کاتالوگ"
  },

  en: {
    // ====== General ======
   
    menu_home: "Home",
    menu_about: "About",
    menu_products: "Products",
    menu_catalog:"Catalog",
    menu_contact: "Contact",
    hero_title: "Smart HVAC & Refrigeration Control",
    hero_text: "Innovative IoT-based BMS Solutions",
    hero_btn: "View Products",
    contact: `
      Contact: 
      <a href="mailto:ehsansheikhy@gmail.com"><i class="fa-solid fa-envelope"></i>ehsansheikhy@gmail.com</a> | 
      <a href="tel:+989123085827"><i class="fa-solid fa-mobile-screen"></i> +98-912-308-5827</a> | 
      <a href="tel:+982122076977"><i class="fa-solid fa-phone"></i> +98-21-22076977</a> | 
      <a href="https://www.linkedin.com/in/ehsan-sheikhi/" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIn</a> | 
      <a href="https://www.instagram.com/yourusername" target="_blank"><i class="fa-brands fa-instagram"></i> Instagram</a>
    `,
    footer_text: "© 2025 NIK SARAN. All rights reserved.",
    


    // ====== About Us ======
    about_title: "About Us",
    about_text: "Our company specializes in smart automation, industrial control, and HVAC (Heating, Ventilation, and Air Conditioning) systems. Over the years, we have successfully executed various projects across multiple industries. Our mission is to provide innovative solutions that reduce energy consumption, enhance equipment efficiency, and improve the quality of life and work in both industrial and building environments.",
    about_subtitle1: "Our Expertise",
    about_list1_item1: "Design and implementation of Building Management Systems (BMS)",
    about_list1_item2: "Control and monitoring of HVAC equipment including chillers, AHUs, and fans",
    about_list1_item3: "Development and support of X7 Series smart boards with Modbus, MQTT, and IoT",
    about_list1_item4: "Design of web dashboards and mobile apps for monitoring and control",
    about_list1_item5: "Consulting, design, and execution of industrial automation projects",
    about_subtitle2: "Why Choose Us",
    about_list2_item1: "Utilizing the latest technologies in automation and IoT",
    about_list2_item2: "A dedicated and experienced engineering team",
    about_list2_item3: "Fast and reliable support services",
    about_list2_item4: "Proven track record in large industrial and building projects",
    about_subtitle3: "Our Vision",
    about_text2: "Our vision is to become one of the leading companies in smart automation and energy management in the Middle East. We believe the future of industry and building lies in adopting intelligent and sustainable solutions, and we are committed to being a trusted partner along this journey.",

    // ====== Products ======
    products_title: "Our Products",
    footer_text: "© 2025 NIK SARAN. All rights reserved.",

    // ====== Product Page ======
    desc_title: "Description",
    desc_title1: "Description",
    features_title: "Features",
    apps_title: "Applications",
    back: "⬅ Back to Products",

    // Texts for X7 Server product
    products_title: "Our Products",
    p1_title: "X7 Server",
    p1_text: "Smart IoT Gateway with Modbus and MQTT support",
    p2_title: "X7-A Board",
    p2_text: "Advanced controller for Chillers and AHUs with Modbus support",
    details: "View Details",
    p1_desc: "X7 Server is an intelligent IoT Gateway designed to connect industrial and building equipment to the internet and multiple protocols without requiring a static IP.",
    p2_desc:"The X7-A Smart IoT Board is a powerful and flexible controller designed for industrial automation, Building Management Systems (BMS), and HVAC control. It provides seamless data acquisition from sensors, control of actuators, and reliable communication through Modbus RTU and MQTT protocols. With its compact and industrial design, the X7-A is an ideal choice for monitoring and centralized control projects.",
    p1_feature1: "Two RS485 ports for Modbus RTU communication",
    p1_feature2: "Ethernet port for direct network connection",
    p1_feature3: "USB port (for future expansion)",
    p1_feature4: "Supports MQTT protocol for cloud data transfer",
    p1_feature5: "Built-in Access Point at 192.168.4.1",
    p1_feature6: "Power supply: 9–24V DC, 1A current",
    p1_feature7: "DIN rail mounting",
    p1_app1: "Gateway for industrial and building equipment",
    p1_app2: "Monitoring and control of chillers, AHUs, fans, and pumps",
    p1_app3: "Cloud data transfer without static IP",
    p1_app4: "Industrial automation and BMS",
    // Texts for X7a Server product
    features_title: "Features",
    p2_feature1: "Monitoring of temperature, pressure, humidity, and other sensors",
    p2_feature2: "Supports up to 8 DS18B20 digital temperature sensors",
    p2_feature3: "Control of HVAC equipment including chillers, AHUs, fan coils, and pumps",
    p2_feature4: "Setpoint definition and scheduling (Scheduler)",
    p2_feature5: "Data transfer to cloud or local servers via MQTT Broker",
    p2_feature6: "Support for Modbus RTU protocol to connect industrial devices",
    p2_feature7: "Operates as Modbus Slave or Master",
    p2_feature8: "Simple and user-friendly Web interface for configuration",

    apps_title: "Applications",
    p2_app1: "BMS and building monitoring (chillers, AHUs, parking fans, and pumps)",
    p2_app2: "Industrial automation and production line monitoring",
    p2_app3: "Greenhouse and poultry farm control",
    p2_app4: "Energy and power plant monitoring",
    p2_app5: "IoT-based remote monitoring and control",
    

    // ====== Catalog ======
    catalog_title: "📘 Company Catalog",
    catalog_text: "To view or download the company catalog, use the options below:",
    catalog_btn: "Download Catalog"
    

  }
};

// ------------------ Language Switch ------------------
function toggleLang() {
  const current = localStorage.getItem("lang") || "fa";
  const next = (current === "fa") ? "en" : "fa";
  setLang(next);
}

function setLang(lang) {
  document.body.style.direction = (lang === "fa") ? "rtl" : "ltr";
  localStorage.setItem("lang", lang);

  // تغییر متن‌ها
  document.querySelectorAll("[data-key]").forEach(el => {
    const key = el.getAttribute("data-key");
    if (translations[lang][key]) {
      if (key === "contact") {
        el.innerHTML = translations[lang][key];
      } else {
        el.textContent = translations[lang][key];
      }
    }
  });

  // تغییر متن دکمه تاگل زبان
  const btn = document.getElementById("lang-toggle");
  if (btn) btn.textContent = (lang === "fa") ? "English" : "فارسی";

  // 🔹 بارگذاری عکس‌های اسلایدر مخصوص زبان
  loadSlider(lang);
}

// ------------------ Dark Mode ------------------
const themeToggle = document.getElementById("theme-toggle");

function applyTheme(mode) {
  if (mode === "dark") {
    document.body.classList.add("dark-mode");
    themeToggle.textContent = "☀️";
  } else {
    document.body.classList.remove("dark-mode");
    themeToggle.textContent = "🌙";
  }
  localStorage.setItem("theme", mode);
}

function rebindThemeToggle() {
  if (!themeToggle) return;
  themeToggle.onclick = () => {
    const newMode = document.body.classList.contains("dark-mode") ? "light" : "dark";
    applyTheme(newMode);
  };
}

// ------------------ Slider Images ------------------
// 🔹 لیست عکس‌ها برای هر زبان
const imagesFA = [
  "static/images/fa/s1.png",
  "static/images/fa/s2.png",
  "static/images/fa/s3.png"
];

const imagesEN = [
  "static/images/en/s1.png",
  "static/images/en/s2.png",
  "static/images/en/s3.png"
];

function loadSlider(lang) {
  const wrapper = document.getElementById("slider-images");
  if (!wrapper) return;

  wrapper.innerHTML = ""; // پاک کردن اسلایدهای قبلی

  const imgs = (lang === "fa") ? imagesFA : imagesEN;

  imgs.forEach(src => {
    const slide = document.createElement("div");
    slide.className = "swiper-slide";
    slide.innerHTML = `<img src="${src}" alt="slide">`;
    wrapper.appendChild(slide);
  });

  // ری‌اینیت Swiper
  if (window.mySwiper) {
    window.mySwiper.destroy(true, true);
  }
  window.mySwiper = new Swiper(".mySwiper", {
    loop: true,
    autoplay: { delay: 3000, disableOnInteraction: false },
    pagination: { el: ".swiper-pagination", clickable: true },
    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" }
  });

  // تغییر لوگو بر اساس زبان
  const logoImg = document.getElementById("logo-img");
  if (lang === "fa") {
    logoImg.src = "/static/images/logo.png";
  } else {
    logoImg.src = "/static/images/logo.png";
  }
}

// ------------------ Init ------------------
window.addEventListener("DOMContentLoaded", () => {
  // زبان
  const savedLang = localStorage.getItem("lang") || "fa";
  setLang(savedLang);

  // تم
  const savedTheme = localStorage.getItem("theme") || "light";
  applyTheme(savedTheme);

  rebindThemeToggle();
});


// ------------------ Mobile Menu ------------------
document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.getElementById("menu-toggle");
  const navMenu = document.getElementById("nav-menu");

  if (menuToggle && navMenu) {
    menuToggle.addEventListener("click", () => {
      navMenu.classList.toggle("active");
    });
  }
});
